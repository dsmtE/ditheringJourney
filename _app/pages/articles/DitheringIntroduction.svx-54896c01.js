import{M as e,N as t,S as i,i as a,s as o,e as r,k as n,t as s,c as h,a as l,d,n as c,g,b as f,f as u,D as m,O as p,P as w,E as v,Q as b,z as y,I as x,R as E,T as k,U as I,F as P,V as T,j as D,m as q,o as $,v as A,r as W,w as C}from"../../chunks/vendor-b19e5e55.js";import{P as M}from"../../chunks/PostHeader-46a3376b.js";import{b as z}from"../../chunks/paths-45dac81d.js";import"../../chunks/Tag-e558c8de.js";const j=e(t,{}),H=e=>{if(t=e,Math.log2(t)%1==0){var t;if(e>=8)return j.matrix([[0,32,8,40,2,34,10,42],[48,16,56,24,50,18,58,26],[12,44,4,36,14,46,6,38],[60,28,52,20,62,30,54,22],[3,35,11,43,1,33,9,41],[51,19,59,27,49,17,57,25],[15,47,7,39,13,45,5,37],[63,31,55,23,61,29,53,21]]);if(e<=2)return j.matrix([[0,2],[3,1]]);{const t=e>>1,i=j.multiply(H(t),4),a=j.zeros(e,e);return a.subset(j.index([0,t-1],[0,t-1]),i),a.subset(j.index([t,e-1],[0,t-1]),j.add(i,2)),a.subset(j.index([0,t-1],[t,e-1]),j.add(i,3)),a.subset(j.index([t,e-1],[t,e-1]),j.add(i,1)),a}}console.log("error dim")},O=(e,t,i,a=4)=>{for(var o=0;o<=i.length;o+=4)i[o]=Math.floor(.2126*i[o]+.7152*i[o+1]+.0722*i[o+2]);const r=(n=a,j.multiply(j.add(H(n),1),255/(1+n*n))).valueOf();var n;console.log(r);for(let s=0;s<t;++s)for(let t=0;t<e;++t){const o=4*(s*e+t);i[o]=i[o]>r[t%a][s%a]?255:0}for(o=0;o<=i.length;o+=4)i[o+1]=i[o+2]=i[o]};function S(e){let t,i,a,o,y,x,E,k,I,P,T,D,q,$,A,W;return{c(){t=r("div"),i=r("canvas"),a=n(),o=r("p"),y=s("gradient"),x=n(),E=r("canvas"),k=n(),I=r("p"),P=s("bayer dithered gradient"),T=n(),D=r("label"),q=s("gradient sections:\r\n\t\t"),$=r("input"),this.h()},l(e){t=h(e,"DIV",{class:!0});var r=l(t);i=h(r,"CANVAS",{id:!0,width:!0,height:!0,class:!0}),l(i).forEach(d),a=c(r),o=h(r,"P",{class:!0});var n=l(o);y=g(n,"gradient"),n.forEach(d),x=c(r),E=h(r,"CANVAS",{id:!0,width:!0,height:!0,class:!0}),l(E).forEach(d),k=c(r),I=h(r,"P",{class:!0});var s=l(I);P=g(s,"bayer dithered gradient"),s.forEach(d),T=c(r),D=h(r,"LABEL",{});var f=l(D);q=g(f,"gradient sections:\r\n\t\t"),$=h(f,"INPUT",{type:!0,min:!0,max:!0}),f.forEach(d),r.forEach(d),this.h()},h(){f(i,"id","canvas"),f(i,"width",G),f(i,"height",F),f(i,"class","svelte-1vys0sk"),f(o,"class","legend"),f(E,"id","canvas"),f(E,"width",G),f(E,"height",F),f(E,"class","svelte-1vys0sk"),f(I,"class","legend"),f($,"type","range"),f($,"min","2"),f($,"max","256"),f(t,"class","flex flex-col w-full items-center justify-center")},m(r,n){u(r,t,n),m(t,i),e[5](i),m(t,a),m(t,o),m(o,y),m(t,x),m(t,E),e[6](E),m(t,k),m(t,I),m(I,P),m(t,T),m(t,D),m(D,q),m(D,$),p($,e[0]),A||(W=[w($,"change",e[7]),w($,"input",e[7]),w($,"change",e[8])],A=!0)},p(e,[t]){1&t&&p($,e[0])},i:v,o:v,d(i){i&&d(t),e[5](null),e[6](null),A=!1,b(W)}}}const G=512,F=32;function N(e,t,i){let a,o,{step:r=256}=t;function n(){const e=o.getContext("2d"),t=e.getImageData(0,0,G,F),i=new ArrayBuffer(t.data.length),a=new Uint8ClampedArray(i);for(let o=0;o<F;++o)for(let e=0;e<G;++e){let t=Math.floor(e/G*255);t=Math.floor(t/(255/r))*(255/r);const i=4*(o*G+e);a[i]=a[i+1]=a[i+2]=t,a[i+3]=255}t.data.set(a),e.putImageData(t,0,0)}function s(){const e=a.getContext("2d"),t=e.getImageData(0,0,G,F),i=o.getContext("2d").getImageData(0,0,G,F).data;t.data.set(i),O(G,F,t.data,4),e.putImageData(t,0,0)}y((()=>{n(),s()}));return e.$$set=e=>{"step"in e&&i(0,r=e.step)},[r,a,o,n,s,function(e){x[e?"unshift":"push"]((()=>{o=e,i(2,o)}))},function(e){x[e?"unshift":"push"]((()=>{a=e,i(1,a)}))},function(){r=E(this.value),i(0,r)},()=>{n(),s()}]}class V extends i{constructor(e){super(),a(this,e,N,S,o,{step:0})}}function _(e){let t,i,a,o,p,w,b,y,x,E,k,I;return{c(){t=r("div"),i=r("div"),a=r("canvas"),o=n(),p=r("p"),w=s("original"),b=n(),y=r("div"),x=r("canvas"),E=n(),k=r("p"),I=s("poor threshold image"),this.h()},l(e){t=h(e,"DIV",{class:!0});var r=l(t);i=h(r,"DIV",{});var n=l(i);a=h(n,"CANVAS",{id:!0,class:!0}),l(a).forEach(d),o=c(n),p=h(n,"P",{class:!0});var s=l(p);w=g(s,"original"),s.forEach(d),n.forEach(d),b=c(r),y=h(r,"DIV",{});var f=l(y);x=h(f,"CANVAS",{id:!0,class:!0}),l(x).forEach(d),E=c(f),k=h(f,"P",{class:!0});var u=l(k);I=g(u,"poor threshold image"),u.forEach(d),f.forEach(d),r.forEach(d),this.h()},h(){f(a,"id","canvas"),f(a,"class","svelte-1vys0sk"),f(p,"class","legend"),f(x,"id","canvas"),f(x,"class","svelte-1vys0sk"),f(k,"class","legend"),f(t,"class","flex flex-cols w-full items-center justify-center")},m(r,n){u(r,t,n),m(t,i),m(i,a),e[4](a),m(i,o),m(i,p),m(p,w),m(t,b),m(t,y),m(y,x),e[5](x),m(y,E),m(y,k),m(k,I)},p:v,i:v,o:v,d(i){i&&d(t),e[4](null),e[5](null)}}}function U(e,t,i){var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(o,r){function n(e){try{h(a.next(e))}catch(t){r(t)}}function s(e){try{h(a.throw(e))}catch(t){r(t)}}function h(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,s)}h((a=a.apply(e,t||[])).next())}))};let o,r,{maxWidth:n=256}=t,{maxHeight:s=256}=t;return y((()=>a(void 0,void 0,void 0,(function*(){let e=yield(t="../imgs/mountains.jpg",new Promise((e=>{let i=new Image;i.onload=()=>e(i),i.src=t})));var t;const a=o.getContext("2d"),h=r.getContext("2d"),l=document.createElement("canvas");l.width=e.width,l.height=e.height,l.getContext("2d").drawImage(e,0,0);let d=1;e.width>n?d=n/e.width:e.height>s&&(d=s/e.height),i(0,o.width=e.width*d,o),i(0,o.height=e.height*d,o),i(1,r.width=o.width,r),i(1,r.height=o.height,r),a.drawImage(l,0,0,l.width,l.height,0,0,o.width,o.height),h.drawImage(l,0,0,l.width,l.height,0,0,r.width,r.height);const c=h.getImageData(0,0,o.width,o.height);((e,t,i,a=128)=>{for(var o=0;o<=i.length;o+=4)i[o]=Math.floor(.2126*i[o]+.7152*i[o+1]+.0722*i[o+2]);for(let r=0;r<t;++r)for(let t=0;t<e;++t){const o=4*(r*e+t);i[o]=i[o]>a?255:0}for(o=0;o<=i.length;o+=4)i[o+1]=i[o+2]=i[o]})(o.width,o.height,c.data,128),h.putImageData(c,0,0)})))),e.$$set=e=>{"maxWidth"in e&&i(2,n=e.maxWidth),"maxHeight"in e&&i(3,s=e.maxHeight)},[o,r,n,s,function(e){x[e?"unshift":"push"]((()=>{o=e,i(0,o)}))},function(e){x[e?"unshift":"push"]((()=>{r=e,i(1,r)}))}]}class B extends i{constructor(e){super(),a(this,e,U,_,o,{maxWidth:2,maxHeight:3})}}function R(e,t,i){const a=e.slice();return a[13]=t[i],a}function L(e){let t,i,a,o=e[13].text+"";return{c(){t=r("option"),i=s(o),a=n(),this.h()},l(e){t=h(e,"OPTION",{value:!0});var r=l(t);i=g(r,o),a=c(r),r.forEach(d),this.h()},h(){t.__value=e[13],t.value=t.__value},m(e,o){u(e,t,o),m(t,i),m(t,a)},p:v,d(e){e&&d(t)}}}function K(e){let t,i,a,o,p,y,x,E,T,D,q=e[2],$=[];for(let r=0;r<q.length;r+=1)$[r]=L(R(e,q,r));return{c(){t=r("div"),i=r("canvas"),a=n(),o=r("div"),p=r("p"),y=s("dithering mode:"),x=n(),E=r("select");for(let e=0;e<$.length;e+=1)$[e].c();this.h()},l(e){t=h(e,"DIV",{class:!0});var r=l(t);i=h(r,"CANVAS",{id:!0,class:!0}),l(i).forEach(d),a=c(r),o=h(r,"DIV",{});var n=l(o);p=h(n,"P",{});var s=l(p);y=g(s,"dithering mode:"),s.forEach(d),x=c(n),E=h(n,"SELECT",{});var f=l(E);for(let t=0;t<$.length;t+=1)$[t].l(f);f.forEach(d),n.forEach(d),r.forEach(d),this.h()},h(){f(i,"id","canvas"),f(i,"class","svelte-1iklsfe"),void 0===e[1]&&k((()=>e[7].call(E))),f(t,"class","flex w-full items-center justify-center")},m(r,n){u(r,t,n),m(t,i),e[6](i),m(t,a),m(t,o),m(o,p),m(p,y),m(o,x),m(o,E);for(let e=0;e<$.length;e+=1)$[e].m(E,null);I(E,e[1]),T||(D=[w(E,"change",e[7]),w(E,"change",e[8])],T=!0)},p(e,[t]){if(4&t){let i;for(q=e[2],i=0;i<q.length;i+=1){const a=R(e,q,i);$[i]?$[i].p(a,t):($[i]=L(a),$[i].c(),$[i].m(E,null))}for(;i<$.length;i+=1)$[i].d(1);$.length=q.length}6&t&&I(E,e[1])},i:v,o:v,d(i){i&&d(t),e[6](null),P($,i),T=!1,b(D)}}}function Q(e,t,i){var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(o,r){function n(e){try{h(a.next(e))}catch(t){r(t)}}function s(e){try{h(a.throw(e))}catch(t){r(t)}}function h(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,s)}h((a=a.apply(e,t||[])).next())}))};let o;const r=document.createElement("canvas");let{maxWidth:n=512}=t,{maxHeight:s=512}=t;const h=[{id:0,text:"Original"},{id:1,text:"Bayer Dithering"},{id:2,text:"Floyd-steinberg Dithering"}];let l=h[1];function d(){o.getContext("2d").drawImage(r,0,0,r.width,r.height,0,0,o.width,o.height),function(){const e=o.getContext("2d"),t=e.getImageData(0,0,o.width,o.height);1==l.id&&O(o.width,o.height,t.data,8);2==l.id&&((e,t,i)=>{for(var a=0;a<=i.length;a+=4)i[a]=Math.floor(.2126*i[a]+.7152*i[a+1]+.0722*i[a+2]);for(let o=0;o<t;++o)for(let t=0;t<e;++t){const a=4*(o*e+t),r=i[a]<128?0:255,n=Math.floor((i[a]-r)/16);i[a]=r,i[4*(o*e+(t+1))]+=7*n,i[4*((o+1)*e+(t-1))]+=3*n,i[4*((o+1)*e+t)]+=5*n,i[4*((o+1)*e+(t+1))]+=1*n}for(a=0;a<=i.length;a+=4)i[a+1]=i[a+2]=i[a]})(o.width,o.height,t.data);e.putImageData(t,0,0)}()}y((()=>a(void 0,void 0,void 0,(function*(){let e=yield(t=`${z}/imgs/mountains.jpg`,new Promise((e=>{let i=new Image;i.onload=()=>e(i),i.src=t})));var t;r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0);let a=1;e.width>n?a=n/e.width:e.height>s&&(a=s/e.height),i(0,o.width=e.width*a,o),i(0,o.height=e.height*a,o),d()}))));return e.$$set=e=>{"maxWidth"in e&&i(4,n=e.maxWidth),"maxHeight"in e&&i(5,s=e.maxHeight)},[o,l,h,d,n,s,function(e){x[e?"unshift":"push"]((()=>{o=e,i(0,o)}))},function(){l=T(this),i(1,l),i(2,h)},()=>d()]}class Y extends i{constructor(e){super(),a(this,e,Q,K,o,{maxWidth:4,maxHeight:5})}}function J(e){let t,i,a,o,p,w,b,y,x,E,k,I,P,T,j,H,O,S,G,F,N,_,U,R,L,K,Q,J,X,ee,te,oe,re,ne,se,he,le,de,ce,ge,fe,ue,me,pe,we,ve,be,ye,xe,Ee,ke,Ie,Pe,Te,De,qe,$e,Ae,We,Ce,Me,ze,je,He,Oe,Se,Ge,Fe,Ne,Ve,_e,Ue,Be,Re,Le,Ke,Qe,Ye,Je,Xe,Ze,et,tt,it,at,ot,rt,nt,st,ht,lt,dt,ct,gt,ft,ut,mt,pt,wt,vt,bt,yt,xt,Et,kt,It,Pt,Tt,Dt,qt,$t,At,Wt,Ct,Mt,zt,jt,Ht,Ot,St,Gt,Ft,Nt,Vt,_t,Ut,Bt,Rt,Lt,Kt,Qt,Yt,Jt,Xt,Zt,ei,ti,ii,ai,oi;return t=new M({props:{title:Z,published_at:ae,tags:ie}}),ke=new V({props:{step:4}}),Wt=new B({}),Jt=new Y({}),{c(){D(t.$$.fragment),i=n(),a=r("hr"),o=n(),p=r("h1"),w=r("a"),b=s("What Is Dithering ?"),y=n(),x=r("p"),E=s("When we work with any digital data, we sometimes need to quantize those data.\nThis quantization can be useful, for example, to compress data (with loss) and thus transmit it more easily on the web, or to reduce its quality in order to work with less powerful hardware."),k=n(),I=r("p"),P=r("strong"),T=s("But"),j=s(" this quantization yields errors. These can introduce undesirable artificial artefacts (unpredictable background noise in audio spectrum or banding in image for example)."),H=n(),O=r("p"),S=s("The audio field is a good example of this. The human ear works a bit like a Fourier transform, in which it hears individual frequencies. Therefore, the ear is very sensitive to distortion, or additional frequency content, but much less sensitive to additional random noise at all frequencies."),G=n(),F=r("p"),N=s("Adding random noise at a very low level, called "),_=r("strong"),U=s("dither"),R=s(", to the audio signal before quantization helps a lot to reduce the appearance of random frequencies in favor of a low constant noise that is much less perceptible to the human ear."),L=n(),K=r("p"),Q=s("Dithering, in its broadest sense, is a technique used to fix quantization errors by introducing "),J=r("em"),X=s("noise"),ee=s(" to improve the overall quality of digital data like audio signals or images."),te=n(),oe=r("h2"),re=r("a"),ne=s("Dithering in image processing"),se=n(),he=r("p"),le=s("Dithering is used in image processing to create the illusion of color depth in images on systems with a limited color palette."),de=n(),ce=r("p"),ge=s("The basic concept behind dithering is adding noise, and patterns of pixels to improve the image quality while avoiding banding. In a dithered image, colors that are not available in the palette are approximated by a diffusion of colored pixels from within the available palette. That takes advantage of the human eye’s tendency to “mix” two colors in close proximity to one another. As human eyes does spatial averaging, they perceives the diffusion/noise as a mixture of the colors within it."),fe=n(),ue=r("p"),me=s("A common use of dithering is converting a greyscale image to black and white, such that the density of black dots in the new image approximates the average grey level in the original."),pe=n(),we=r("p"),ve=s("This example of gradient below use a technique called "),be=r("strong"),ye=s("ordered dithering"),xe=s(":"),Ee=n(),D(ke.$$.fragment),Ie=n(),Pe=r("p"),Te=s("One common application of dithering is to more accurately display graphics containing a greater range of colors than the display hardware is capable of showing."),De=n(),qe=r("p"),$e=s("An example of this can be seen in the game Midwinte, an old Amiga game:"),Ae=n(),We=r("figure"),Ce=r("img"),ze=r("figcaption"),je=s("Midwinter1989"),He=n(),Oe=r("p"),Se=s("For example, dithering might be used in order to display a photographic image containing "),Ge=r("a"),Fe=s("millions of colors"),Ne=s(" on video hardware that is only capable of showing 256 colors at a time. The 256 available colors would be used to generate a dithered approximation of the original image. Without dithering, the colors in the original image would be quantized to the closest available color, resulting in a displayed image that is a poor representation of the original."),Ve=n(),_e=r("h2"),Ue=r("a"),Be=s("Context and history of Dithering"),Re=n(),Le=r("p"),Ke=s("Mostly forgotten, I found on Wikipedia a quite interesting fact about when dithering was first used in World War II for bomb trajectories and navigation."),Qe=n(),Ye=r("p"),Je=s("However, That use differs greatly from dithering as we know it today."),Xe=n(),Ze=r("blockquote"),et=r("p"),tt=s("…One of the earliest applications of dither came in World War II. Airplane bombers used mechanical computers to perform navigation and bomb trajectory calculations. Curiously, these computers (boxes filled with hundreds of gears and cogs) performed more accurately when flying on board the aircraft, and less well on ground. Engineers realized that the vibration from the aircraft reduced the error from sticky moving parts. Instead of moving in short jerks, they moved more continuously. Small vibrating motors were built into the computers, and their vibration was called dither from the Middle English verb “didderen,” meaning “to tremble.” Today, when you tap a mechanical meter to increase its accuracy, you are applying dither, and modern dictionaries define dither as a highly nervous, confused, or agitated state. In minute quantities, dither successfully makes a digitization system a little more analog in the good sense of the word."),it=n(),at=r("p"),ot=s("— Ken Pohlmann, "),rt=r("em"),nt=s("Principles of Digital Audio"),st=s("[1]"),ht=n(),lt=r("h2"),dt=r("a"),ct=s("Dithering for printing"),gt=n(),ft=r("p"),ut=s("In its earlier uses in newspapers, comic books, and other printed media, dithering would be applied to images to create levels of simulated grayscale by strategic placement of black dots. Using the dithering process would give a smooth image with gray shades even though printing presses only supported black ink."),mt=n(),pt=r("p"),wt=s("Comic books and other color printing worked similarly, but to simulate more shades of color than the limited palette printing presses had. Below is a sample of how printing presses processed high-quality images into a dithered image."),vt=n(),bt=r("figure"),yt=r("img"),Et=r("figcaption"),kt=s("newspaper sample"),It=n(),Pt=r("p"),Tt=s("Dithering has been very pioneered by the printing industry, which traditionally used black ink on white paper. The most simple technique to render images in black and white is to use a "),Dt=r("strong"),qt=s("threshold"),$t=s(", so that all pixels darker than a certain value are coloured black. As seen in the image below, thresholding yields very poor results:"),At=n(),D(Wt.$$.fragment),Ct=n(),Mt=r("p"),zt=s("More recently, dithering has become popular in "),jt=r("a"),Ht=s("web graphics"),Ot=s(". Even though most of the population has access to high-speed internet, there is still a modest percentage of internet users that are reliant upon dial-up. Using dithering in image processing not only reduces banding of colors and shading, which creates a smoother finished image, but it also reduces the file size. This is used in the GIF well-known format."),St=n(),Gt=r("figure"),Ft=r("img"),Vt=n(),_t=r("p"),Ut=s("The first image is a banded image. You can clearly see the transitions in color."),Bt=n(),Rt=r("hr"),Lt=n(),Kt=r("p"),Qt=s("This is the result that can be obtained with different dithering methods on a grayscale image."),Yt=n(),D(Jt.$$.fragment),Xt=n(),Zt=r("p"),ei=s("We will see more in detail in a future article how the algorithms work and the different methods that exist, their pros and cons."),ti=n(),ii=r("p"),ai=s("But before that, it is necessary to talk a little about colors.\nSo far we have been working mainly with grayscale images, but the wonderful world of colors needs more context. That’s why the next article will be about color and how to define it."),this.h()},l(e){q(t.$$.fragment,e),i=c(e),a=h(e,"HR",{}),o=c(e),p=h(e,"H1",{id:!0});var r=l(p);w=h(r,"A",{href:!0});var n=l(w);b=g(n,"What Is Dithering ?"),n.forEach(d),r.forEach(d),y=c(e),x=h(e,"P",{});var s=l(x);E=g(s,"When we work with any digital data, we sometimes need to quantize those data.\nThis quantization can be useful, for example, to compress data (with loss) and thus transmit it more easily on the web, or to reduce its quality in order to work with less powerful hardware."),s.forEach(d),k=c(e),I=h(e,"P",{});var f=l(I);P=h(f,"STRONG",{});var u=l(P);T=g(u,"But"),u.forEach(d),j=g(f," this quantization yields errors. These can introduce undesirable artificial artefacts (unpredictable background noise in audio spectrum or banding in image for example)."),f.forEach(d),H=c(e),O=h(e,"P",{});var m=l(O);S=g(m,"The audio field is a good example of this. The human ear works a bit like a Fourier transform, in which it hears individual frequencies. Therefore, the ear is very sensitive to distortion, or additional frequency content, but much less sensitive to additional random noise at all frequencies."),m.forEach(d),G=c(e),F=h(e,"P",{});var v=l(F);N=g(v,"Adding random noise at a very low level, called "),_=h(v,"STRONG",{});var D=l(_);U=g(D,"dither"),D.forEach(d),R=g(v,", to the audio signal before quantization helps a lot to reduce the appearance of random frequencies in favor of a low constant noise that is much less perceptible to the human ear."),v.forEach(d),L=c(e),K=h(e,"P",{});var $=l(K);Q=g($,"Dithering, in its broadest sense, is a technique used to fix quantization errors by introducing "),J=h($,"EM",{});var A=l(J);X=g(A,"noise"),A.forEach(d),ee=g($," to improve the overall quality of digital data like audio signals or images."),$.forEach(d),te=c(e),oe=h(e,"H2",{id:!0});var W=l(oe);re=h(W,"A",{href:!0});var C=l(re);ne=g(C,"Dithering in image processing"),C.forEach(d),W.forEach(d),se=c(e),he=h(e,"P",{});var M=l(he);le=g(M,"Dithering is used in image processing to create the illusion of color depth in images on systems with a limited color palette."),M.forEach(d),de=c(e),ce=h(e,"P",{});var z=l(ce);ge=g(z,"The basic concept behind dithering is adding noise, and patterns of pixels to improve the image quality while avoiding banding. In a dithered image, colors that are not available in the palette are approximated by a diffusion of colored pixels from within the available palette. That takes advantage of the human eye’s tendency to “mix” two colors in close proximity to one another. As human eyes does spatial averaging, they perceives the diffusion/noise as a mixture of the colors within it."),z.forEach(d),fe=c(e),ue=h(e,"P",{});var V=l(ue);me=g(V,"A common use of dithering is converting a greyscale image to black and white, such that the density of black dots in the new image approximates the average grey level in the original."),V.forEach(d),pe=c(e),we=h(e,"P",{});var B=l(we);ve=g(B,"This example of gradient below use a technique called "),be=h(B,"STRONG",{});var Y=l(be);ye=g(Y,"ordered dithering"),Y.forEach(d),xe=g(B,":"),B.forEach(d),Ee=c(e),q(ke.$$.fragment,e),Ie=c(e),Pe=h(e,"P",{});var Z=l(Pe);Te=g(Z,"One common application of dithering is to more accurately display graphics containing a greater range of colors than the display hardware is capable of showing."),Z.forEach(d),De=c(e),qe=h(e,"P",{});var ie=l(qe);$e=g(ie,"An example of this can be seen in the game Midwinte, an old Amiga game:"),ie.forEach(d),Ae=c(e),We=h(e,"FIGURE",{class:!0});var ae=l(We);Ce=h(ae,"IMG",{src:!0,alt:!0,class:!0}),ze=h(ae,"FIGCAPTION",{});var Me=l(ze);je=g(Me,"Midwinter1989"),Me.forEach(d),ae.forEach(d),He=c(e),Oe=h(e,"P",{});var xt=l(Oe);Se=g(xt,"For example, dithering might be used in order to display a photographic image containing "),Ge=h(xt,"A",{href:!0,rel:!0});var Nt=l(Ge);Fe=g(Nt,"millions of colors"),Nt.forEach(d),Ne=g(xt," on video hardware that is only capable of showing 256 colors at a time. The 256 available colors would be used to generate a dithered approximation of the original image. Without dithering, the colors in the original image would be quantized to the closest available color, resulting in a displayed image that is a poor representation of the original."),xt.forEach(d),Ve=c(e),_e=h(e,"H2",{id:!0});var oi=l(_e);Ue=h(oi,"A",{href:!0});var ri=l(Ue);Be=g(ri,"Context and history of Dithering"),ri.forEach(d),oi.forEach(d),Re=c(e),Le=h(e,"P",{});var ni=l(Le);Ke=g(ni,"Mostly forgotten, I found on Wikipedia a quite interesting fact about when dithering was first used in World War II for bomb trajectories and navigation."),ni.forEach(d),Qe=c(e),Ye=h(e,"P",{});var si=l(Ye);Je=g(si,"However, That use differs greatly from dithering as we know it today."),si.forEach(d),Xe=c(e),Ze=h(e,"BLOCKQUOTE",{});var hi=l(Ze);et=h(hi,"P",{});var li=l(et);tt=g(li,"…One of the earliest applications of dither came in World War II. Airplane bombers used mechanical computers to perform navigation and bomb trajectory calculations. Curiously, these computers (boxes filled with hundreds of gears and cogs) performed more accurately when flying on board the aircraft, and less well on ground. Engineers realized that the vibration from the aircraft reduced the error from sticky moving parts. Instead of moving in short jerks, they moved more continuously. Small vibrating motors were built into the computers, and their vibration was called dither from the Middle English verb “didderen,” meaning “to tremble.” Today, when you tap a mechanical meter to increase its accuracy, you are applying dither, and modern dictionaries define dither as a highly nervous, confused, or agitated state. In minute quantities, dither successfully makes a digitization system a little more analog in the good sense of the word."),li.forEach(d),it=c(hi),at=h(hi,"P",{});var di=l(at);ot=g(di,"— Ken Pohlmann, "),rt=h(di,"EM",{});var ci=l(rt);nt=g(ci,"Principles of Digital Audio"),ci.forEach(d),st=g(di,"[1]"),di.forEach(d),hi.forEach(d),ht=c(e),lt=h(e,"H2",{id:!0});var gi=l(lt);dt=h(gi,"A",{href:!0});var fi=l(dt);ct=g(fi,"Dithering for printing"),fi.forEach(d),gi.forEach(d),gt=c(e),ft=h(e,"P",{});var ui=l(ft);ut=g(ui,"In its earlier uses in newspapers, comic books, and other printed media, dithering would be applied to images to create levels of simulated grayscale by strategic placement of black dots. Using the dithering process would give a smooth image with gray shades even though printing presses only supported black ink."),ui.forEach(d),mt=c(e),pt=h(e,"P",{});var mi=l(pt);wt=g(mi,"Comic books and other color printing worked similarly, but to simulate more shades of color than the limited palette printing presses had. Below is a sample of how printing presses processed high-quality images into a dithered image."),mi.forEach(d),vt=c(e),bt=h(e,"FIGURE",{class:!0});var pi=l(bt);yt=h(pi,"IMG",{src:!0,alt:!0,class:!0}),Et=h(pi,"FIGCAPTION",{});var wi=l(Et);kt=g(wi,"newspaper sample"),wi.forEach(d),pi.forEach(d),It=c(e),Pt=h(e,"P",{});var vi=l(Pt);Tt=g(vi,"Dithering has been very pioneered by the printing industry, which traditionally used black ink on white paper. The most simple technique to render images in black and white is to use a "),Dt=h(vi,"STRONG",{});var bi=l(Dt);qt=g(bi,"threshold"),bi.forEach(d),$t=g(vi,", so that all pixels darker than a certain value are coloured black. As seen in the image below, thresholding yields very poor results:"),vi.forEach(d),At=c(e),q(Wt.$$.fragment,e),Ct=c(e),Mt=h(e,"P",{});var yi=l(Mt);zt=g(yi,"More recently, dithering has become popular in "),jt=h(yi,"A",{href:!0,rel:!0});var xi=l(jt);Ht=g(xi,"web graphics"),xi.forEach(d),Ot=g(yi,". Even though most of the population has access to high-speed internet, there is still a modest percentage of internet users that are reliant upon dial-up. Using dithering in image processing not only reduces banding of colors and shading, which creates a smoother finished image, but it also reduces the file size. This is used in the GIF well-known format."),yi.forEach(d),St=c(e),Gt=h(e,"FIGURE",{class:!0});var Ei=l(Gt);Ft=h(Ei,"IMG",{src:!0}),Ei.forEach(d),Vt=c(e),_t=h(e,"P",{class:!0});var ki=l(_t);Ut=g(ki,"The first image is a banded image. You can clearly see the transitions in color."),ki.forEach(d),Bt=c(e),Rt=h(e,"HR",{}),Lt=c(e),Kt=h(e,"P",{});var Ii=l(Kt);Qt=g(Ii,"This is the result that can be obtained with different dithering methods on a grayscale image."),Ii.forEach(d),Yt=c(e),q(Jt.$$.fragment,e),Xt=c(e),Zt=h(e,"P",{});var Pi=l(Zt);ei=g(Pi,"We will see more in detail in a future article how the algorithms work and the different methods that exist, their pros and cons."),Pi.forEach(d),ti=c(e),ii=h(e,"P",{});var Ti=l(ii);ai=g(Ti,"But before that, it is necessary to talk a little about colors.\nSo far we have been working mainly with grayscale images, but the wonderful world of colors needs more context. That’s why the next article will be about color and how to define it."),Ti.forEach(d),this.h()},h(){f(w,"href","#what-is-dithering-"),f(p,"id","what-is-dithering-"),f(re,"href","#dithering-in-image-processing"),f(oe,"id","dithering-in-image-processing"),Ce.src!==(Me=z+"/imgs/Dithering/Midwinter1989.jpg")&&f(Ce,"src",Me),f(Ce,"alt","Midwinter1989"),f(Ce,"class","svelte-eh7jf"),f(We,"class","figure"),f(Ge,"href","https://en.wikipedia.org/wiki/24-bit_color"),f(Ge,"rel","nofollow"),f(Ue,"href","#context-and-history-of-dithering"),f(_e,"id","context-and-history-of-dithering"),f(dt,"href","#dithering-for-printing"),f(lt,"id","dithering-for-printing"),yt.src!==(xt=z+"/imgs/Dithering/newsPaperSample.png")&&f(yt,"src",xt),f(yt,"alt","newspaper sample"),f(yt,"class","svelte-eh7jf"),f(bt,"class","figure"),f(jt,"href","https://www.lifewire.com/when-to-use-certain-image-formats-3467831"),f(jt,"rel","nofollow"),Ft.src!==(Nt=z+"/imgs/Dithering/GIFDithering.gif")&&f(Ft,"src",Nt),f(Gt,"class","figure"),f(_t,"class","legend")},m(e,r){$(t,e,r),u(e,i,r),u(e,a,r),u(e,o,r),u(e,p,r),m(p,w),m(w,b),u(e,y,r),u(e,x,r),m(x,E),u(e,k,r),u(e,I,r),m(I,P),m(P,T),m(I,j),u(e,H,r),u(e,O,r),m(O,S),u(e,G,r),u(e,F,r),m(F,N),m(F,_),m(_,U),m(F,R),u(e,L,r),u(e,K,r),m(K,Q),m(K,J),m(J,X),m(K,ee),u(e,te,r),u(e,oe,r),m(oe,re),m(re,ne),u(e,se,r),u(e,he,r),m(he,le),u(e,de,r),u(e,ce,r),m(ce,ge),u(e,fe,r),u(e,ue,r),m(ue,me),u(e,pe,r),u(e,we,r),m(we,ve),m(we,be),m(be,ye),m(we,xe),u(e,Ee,r),$(ke,e,r),u(e,Ie,r),u(e,Pe,r),m(Pe,Te),u(e,De,r),u(e,qe,r),m(qe,$e),u(e,Ae,r),u(e,We,r),m(We,Ce),m(We,ze),m(ze,je),u(e,He,r),u(e,Oe,r),m(Oe,Se),m(Oe,Ge),m(Ge,Fe),m(Oe,Ne),u(e,Ve,r),u(e,_e,r),m(_e,Ue),m(Ue,Be),u(e,Re,r),u(e,Le,r),m(Le,Ke),u(e,Qe,r),u(e,Ye,r),m(Ye,Je),u(e,Xe,r),u(e,Ze,r),m(Ze,et),m(et,tt),m(Ze,it),m(Ze,at),m(at,ot),m(at,rt),m(rt,nt),m(at,st),u(e,ht,r),u(e,lt,r),m(lt,dt),m(dt,ct),u(e,gt,r),u(e,ft,r),m(ft,ut),u(e,mt,r),u(e,pt,r),m(pt,wt),u(e,vt,r),u(e,bt,r),m(bt,yt),m(bt,Et),m(Et,kt),u(e,It,r),u(e,Pt,r),m(Pt,Tt),m(Pt,Dt),m(Dt,qt),m(Pt,$t),u(e,At,r),$(Wt,e,r),u(e,Ct,r),u(e,Mt,r),m(Mt,zt),m(Mt,jt),m(jt,Ht),m(Mt,Ot),u(e,St,r),u(e,Gt,r),m(Gt,Ft),u(e,Vt,r),u(e,_t,r),m(_t,Ut),u(e,Bt,r),u(e,Rt,r),u(e,Lt,r),u(e,Kt,r),m(Kt,Qt),u(e,Yt,r),$(Jt,e,r),u(e,Xt,r),u(e,Zt,r),m(Zt,ei),u(e,ti,r),u(e,ii,r),m(ii,ai),oi=!0},p:v,i(e){oi||(A(t.$$.fragment,e),A(ke.$$.fragment,e),A(Wt.$$.fragment,e),A(Jt.$$.fragment,e),oi=!0)},o(e){W(t.$$.fragment,e),W(ke.$$.fragment,e),W(Wt.$$.fragment,e),W(Jt.$$.fragment,e),oi=!1},d(e){C(t,e),e&&d(i),e&&d(a),e&&d(o),e&&d(p),e&&d(y),e&&d(x),e&&d(k),e&&d(I),e&&d(H),e&&d(O),e&&d(G),e&&d(F),e&&d(L),e&&d(K),e&&d(te),e&&d(oe),e&&d(se),e&&d(he),e&&d(de),e&&d(ce),e&&d(fe),e&&d(ue),e&&d(pe),e&&d(we),e&&d(Ee),C(ke,e),e&&d(Ie),e&&d(Pe),e&&d(De),e&&d(qe),e&&d(Ae),e&&d(We),e&&d(He),e&&d(Oe),e&&d(Ve),e&&d(_e),e&&d(Re),e&&d(Le),e&&d(Qe),e&&d(Ye),e&&d(Xe),e&&d(Ze),e&&d(ht),e&&d(lt),e&&d(gt),e&&d(ft),e&&d(mt),e&&d(pt),e&&d(vt),e&&d(bt),e&&d(It),e&&d(Pt),e&&d(At),C(Wt,e),e&&d(Ct),e&&d(Mt),e&&d(St),e&&d(Gt),e&&d(Vt),e&&d(_t),e&&d(Bt),e&&d(Rt),e&&d(Lt),e&&d(Kt),e&&d(Yt),C(Jt,e),e&&d(Xt),e&&d(Zt),e&&d(ti),e&&d(ii)}}}const X={title:"Dithering Introduction",slug:"DitheringIntroduction",description:"Introduction to the fabulous world of image dithering.",tags:[],published_at:"30/05/2021"},{title:Z,slug:ee,description:te,tags:ie,published_at:ae}=X;export default class extends i{constructor(e){super(),a(this,e,null,J,o,{})}}export{X as metadata};
